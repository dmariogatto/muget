<?xml version="1.0" encoding="utf-8" ?>
<views:BasePage
    x:Class="MuGet.Forms.Views.SettingsPage"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:MuGet.Forms.Controls"
    xmlns:d="http://xamarin.com/schemas/2014/forms/design"
    xmlns:ios="clr-namespace:Xamarin.Forms.PlatformConfiguration.iOSSpecific;assembly=Xamarin.Forms.Core"
    xmlns:local="clr-namespace:MuGet.Forms"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewModels="clr-namespace:MuGet.Forms.ViewModels"
    xmlns:views="clr-namespace:MuGet.Forms.Views"
    Title="{Binding Title}"
    ios:Page.UseSafeArea="true"
    x:DataType="viewModels:SettingsViewModel"
    x:TypeArguments="viewModels:SettingsViewModel"
    BackgroundColor="{DynamicResource PageBackgroundColor}"
    mc:Ignorable="d">
    <ContentPage.BindingContext>
        <viewModels:SettingsViewModel x:Name="Vm" />
    </ContentPage.BindingContext>
    <ContentPage.Resources>
        <ResourceDictionary />
    </ContentPage.Resources>

    <ContentPage.Content>
        <TableView
            x:Name="SettingsTable"
            BackgroundColor="{DynamicResource PageBackgroundColor}"
            Intent="Settings">
            <TableRoot>
                <TableSection Title="NuGet.org">
                    <controls:ColorSwitchCell
                        On="{Binding IncludePrerelease}"
                        Text="{local:Translate IncludePrerelease}"
                        TextColor="{DynamicResource PrimaryTextColor}" />
                </TableSection>
                <TableSection Title="{local:Translate Notifications}">
                    <controls:ColorSwitchCell
                        On="{Binding NewReleaseNotifications}"
                        Text="{local:Translate NotificationsDescription}"
                        TextColor="{DynamicResource PrimaryTextColor}" />
                </TableSection>
                <TableSection Title="MuGet">
                    <TextCell
                        Command="{Binding SettingsItemTappedCommand}"
                        CommandParameter="{x:Static viewModels:SettingItem.RateApp}"
                        Text="{local:Translate RateApp}"
                        TextColor="{DynamicResource PrimaryTextColor}" />
                    <TextCell
                        Command="{Binding SettingsItemTappedCommand}"
                        CommandParameter="{x:Static viewModels:SettingItem.SendFeedback}"
                        Text="{local:Translate SendFeedback}"
                        TextColor="{DynamicResource PrimaryTextColor}" />
                    <TextCell
                        Command="{Binding SettingsItemTappedCommand}"
                        CommandParameter="{x:Static viewModels:SettingItem.ViewGitHub}"
                        Text="{local:Translate ViewOnGitHub}"
                        TextColor="{DynamicResource PrimaryTextColor}" />
                </TableSection>
                <TableSection Title="Development">
                    <TextCell
                        Command="{Binding ResetNotificationsCommand}"
                        Text="{local:Translate ResetNotifications}"
                        TextColor="{DynamicResource PrimaryTextColor}" />
                    <TextCell
                        Command="{Binding RunJobsCommand}"
                        Text="{local:Translate RunAllJobs}"
                        TextColor="{DynamicResource PrimaryTextColor}" />
                </TableSection>
            </TableRoot>
        </TableView>
    </ContentPage.Content>
</views:BasePage>